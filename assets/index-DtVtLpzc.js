import{y as v,u as q,z as E,w as M,A as B,d as S,r as b,o as R,c as T,k as A,v as C,a as y,F as D,e as F}from"./index-C3vdtt9O.js";import{t as h,a as Q,b as w}from"./index-YRxaU1RN.js";import{l as j}from"./utils-D0PhfvxW.js";const p=new WeakMap;function z(c,r,u={}){const{mode:m="replace",route:a=v(),router:o=q(),transform:e=i=>i}=u;p.has(o)||p.set(o,new Map);const n=p.get(o);let t=a.query[c];Q(()=>{t=void 0});let l;const d=E((i,f)=>(l=f,{get(){return i(),e(t!==void 0?t:h(r))},set(s){t!==s&&(t=s===r||s===null?void 0:s,n.set(c,s===r||s===null?void 0:s),f(),B(()=>{if(n.size===0)return;const g=Object.fromEntries(n.entries());n.clear();const{params:_,query:x,hash:k}=a;o[h(m)]({params:_,query:{...x,...g},hash:k})}))}}));return M(()=>a.query[c],i=>{t=i,l()},{flush:"sync"}),d}const I={class:"mt-10 text-center text-white"},L=y("div",{id:"container",class:"px-4 pb-4"},null,-1),O="**CDS收藏：** [公民馆](https://chinadigitaltimes.net/space/%E5%85%AC%E6%B0%91%E9%A6%86)",P="**版权说明：** 该作品版权归原作者所有。中国数字时代仅对原作进行存档，以对抗中国的网络审查。[详细版权说明](https://chinadigitaltimes.net/chinese/copyright)。",G=S({__name:"index",setup(c){const r=z("action"),u=b(!0);async function m(){window.markdownit||await j("https://registry.npmmirror.com/markdown-it/14.0.0/files/dist/markdown-it.min.js")}async function a(){const{data:e}=await w(r.value).text();return e.value?e:(await w(r.value.replace("gitmirror","githubusercontent")).text()).data}async function o(){var d;const[,e]=await Promise.all([m(),a()]),t=window.markdownit().render((d=e==null?void 0:e.value)==null?void 0:d.replace(/!\[(.*?)\]\((.*?)\)/g,"").replace(O,"").replace(P,"")),l=document.getElementById("container");l.innerHTML=t,u.value=!1}return R(()=>{o()}),(e,n)=>(F(),T(D,null,[A(y("div",I," loading... ",512),[[C,u.value]]),L],64))}});export{G as default};
