<script lang="ts" setup>
import { useRouter } from 'vue-router'
// TODO: ä»è·¯ç”±é…ç½®ä¸­è¯»å–
// åŠ¨æ€è·¯ç”±ç›®å½•ç”Ÿæˆ
const entryList = [
  {
    name: 'income',
    title: 'ğŸ’° income',
    desc: 'å›¾è¡¨æ•°æ®',
    path: '/income',
  },
  {
    name: 'incomeXin',
    title: 'ğŸ’° incomeXin',
    desc: 'å›¾è¡¨æ•°æ®',
    path: '/incomeXin',
  },
  {
    name: 'book',
    title: 'ğŸ“š book',
    desc: 'æ‹¥æœ‰å›¾ä¹¦',
    path: '/book',
  },
]
const router = useRouter()

function go(item: any) {
  router.push(item.path)
}

// const weiboList = ref<Weibo[]>([])

// onMounted(() => {
//   // https://hot.imsyy.top/#/list?type=weibo&page=1
//   // fetch('https://weibo.com/ajax/side/hotSearch') // ğŸ˜¡ è·¨åŸŸ
//   fetch('https://api-hot.imsyy.top/weibo?cache=true') // ğŸ˜¡ è·¨åŸŸ
//     .then(r => r.json())
//     .then((res) => {
//       if (res.code === 200) {
//         weiboList.value = res.data.realtime.filter((item: Weibo) => {
//           return !(
//             /å‰§é›†|ç»¼è‰º|ç”µå½±/.test(item?.flag_desc!)
//             || /è‚–æˆ˜|æ˜“çƒŠåƒçº|ç™½é¹¿|åæ™¨å®‡/.test(item.word)
//           )
//         })
//       }
//       else {
//         weiboList.value = [{ word: 'åŠ è½½å¤±è´¥' }]
//       }
//     })
//     .catch(() => {
//       weiboList.value = [{ word: 'åŠ è½½å¤±è´¥' }]
//     })
// })
</script>

<template>
  <div class="py-2 px-2 grip-layout">
    <div v-for="(item, index) in entryList" :key="index">
      <div class="w-full btn btn-primary flex-col" @click="go(item)">
        <div>{{ item.title }}</div>
        <div class="font-size-3">
          {{ item.desc }}
        </div>
      </div>
    </div>
  </div>
  <!-- <div v-if="!weiboList.length" class="text-center">
    loading weiboğŸ”¥ ...
  </div>
  <ul v-else class="mx-2 my-2 menu-md bg-base-200 divide-y divide-slate-700 rounded-box">
    <div
      v-for="(weibo, index) in weiboList"
      :key="index"
      class="py-3 px-2"
      @click="goout(weibo)"
    >
      {{ index + 1 }}ã€{{ weibo.word }}
    </div>
  </ul> -->
</template>

<style scoped>
.grip-layout {
  display: grid;
  grid-template-columns: 1fr 1fr;
  grid-gap: 10px;
}
</style>
