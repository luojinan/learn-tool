import{d as x,r as g,e as _,c as b,a as n,t as o,F as k,f as j,g as I,o as y,w as C,h,i as N}from"./index-C3vdtt9O.js";import{_ as O}from"./index.vue_vue_type_script_setup_true_lang-svy-u7Rt.js";import{T as S}from"./const-D6IH2YzA.js";const w={class:"text-center"},$=x({__name:"index",props:{cardItem:{type:Object,default:()=>({hiragana:"",katakana:"",romaji:"",meaning:""})}},emits:["nextItem","preItem"],setup(c,{emit:s}){const a=s,l=g(!1);function i(){l.value=!0}function u(){l.value=!1,a("nextItem")}function r(){l.value=!1,a("preItem")}return(d,m)=>(_(),b(k,null,[n("div",{class:"btn h-full",onClick:r}," ‚óÄÔ∏é "),n("div",{class:"flex-1 flex-center h-full",onClick:i},[n("div",w,[n("h2",null,o(c.cardItem.hiragana),1),n("h3",null,o(c.cardItem.katakana),1),n("p",{onClick:i},o(l.value?c.cardItem.romaji:"üôàÁÇπÂáªÊòæÁ§∫"),1),n("p",null,o(c.cardItem.meaning||""),1)])]),n("div",{class:"btn h-full",onClick:u}," ‚ñ∂Ô∏é ")],64))}}),B={class:"main-page"},L={class:"page w-full flex-center"},M={class:"text-center"},J=x({__name:"index",setup(c){const s=g("tab1"),a=j(S),l=I(()=>a.find(e=>e.value===s.value)),i=I(()=>{const e=l.value.obtainedValues[l.value.currentIndex];return l.value.allValues[e]});function u(e){const{remainingValues:t,obtainedValues:p,allValues:V}=e;if(t.length>0){const f=Math.floor(Math.random()*t.length),v=t[f];return e.obtainedValues.push(v),e.remainingValues.splice(f,1),e.currentIndex=p.length-1,V[v]}else return"Â∑≤ÁªèËé∑ÂèñÂÆåÊâÄÊúâÂÄº"}function r(){const e=a.find(t=>t.value===s.value);if(e.currentIndex===Object.keys(e.allValues).length-1){confetti();return}if(e.currentIndex===e.obtainedValues.length-1){u(e);return}e.currentIndex+=1}function d(){const e=a.find(t=>t.value===s.value);e.currentIndex>0&&(e.currentIndex=e.currentIndex-1)}function m(){const e=a.find(t=>t.value===s.value);e.currentIndex=-1,e.obtainedValues=[],e.remainingValues=Object.keys(e.allValues),r(s.value)}return y(()=>{const e=localStorage.getItem("tabList");if(!e){r(a[0].value);return}try{Object.assign(a,JSON.parse(e))}catch(t){console.log(t)}}),C(a,e=>{localStorage.setItem("tabList",JSON.stringify(e))}),(e,t)=>(_(),b("div",B,[h(O,{"tab-list":a,"model-active":s.value},{default:N(()=>[n("div",L,[h($,{"card-item":i.value,onNextItem:r,onPreItem:d},null,8,["card-item"])]),n("div",null,[n("div",{class:"btn",onClick:m}," ÈáçÁΩÆ "),n("p",M,o(`${l.value.currentIndex+1}/${Object.keys(l.value.allValues).length}`),1)])]),_:1},8,["tab-list","model-active"])]))}});export{J as default};
